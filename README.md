# MTProtoProxy
Готовый вариант запуска собственного прокси-сервера на базе протокола MTProto.

### Что необходимо?
Для запуска собственного прокси-сервера, вам необходимо:

1. Абсолютно чистый сервер с ОС Ubuntu 18.04 или старше
2. Любой процессор/ОЗУ/диск (хотя бы: 1 ядро, 512 Мб ОЗУ, 5 ГБ диска)
3. Открытый порт и отсутствие любого файерволла (желательно)

### Как запустить?
Для запуска собственного прокси-сервера, вам необходимо выполнять всё **строго по пунктам**. Если вы опытный разработчик, то можете сразу переходить к пункту "6" без лишней шумихи. Если нет, то инструкция ниже.

1. `curl -sL https://deb.nodesource.com/setup_12.x | bash - && sudo apt-get install nodejs npm`
2. `npm install pm2 -g`
3. `cd && mkdir mtproxy && cd mtproxy`
4. `npm install @mtproto-org/mtproxy`
5. `touch *.js`
6. Создайте файл с любыми именем (`*.js` - это имя вашего файла) и вставьте код ниже в файл.
```javascript
const mtproxy = require('@mtproto-org/mtproxy')

mtproxy()
```
7. `pm2 start *.js -i max`

[![Application Result](https://i.kxj.ru/scr/2019-06-06_17.32.00.png)


#### Дополнительные настройки

1. Запустить: `pm2 start *.js -i max`
2. Перезапустить: `pm2 restart *.js`
3. Выключить: `pm2 stop *.js`

### Что дальше? 
Создайте файл `mtproxy.js` и впишите в него код ниже:
```javascript
const mtproxy = require('@mtproto-org/mtproxy')

const options = {
  port: 2233,
  secret: '11112222333344445555666677778888'
}

mtproxy(options)
```

1. Порт для подключения: `2233`
2. Секретный ключ: `11112222333344445555666677778888`

Вы можете поменять стандартный порт и секретный ключ, если хотите полной приватности. Рекомендуем сгенерировать секретный ключ из 32-х случайных чисел. Эти настройки установлены для тех, кому необходимо сразу запустить и пользоваться прокси-сервером.

### Как подключиться?
1. Перейдите в `Настройки`
2. Далее в `Продвинутые настройки`
3. Далее в `Тип соединения`
4. Выберите `Использовать собственный прокси`
5. `Добавить прокси`
6. Выберите `MTPROTO`
7. Хост - IP-адрес сервера или его `hostname`
8. Порт - по умолчанию стоит `2233` или смените на свой (если меняли `mtproxy.js`)
9. Ключ - введите ключ прокси-сервера (по умолчанию: `11112222333344445555666677778888`)
10. Нажмите кнопку `Сохранить`
11. Как только сервер добавится в список ваших прокси, выберите его и дождитесь статуса `Подключён`
12. Готово!

### Ревизия от Fossa

[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Fmtproto-org%2Fproxy.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Fmtproto-org%2Fproxy?ref=badge_large)


### Кто сделал? Мы
_**Aliase Network**: Open Source Initiative_<br>
_K.Sobolev & D.Shaymurzin for everyone_
